<!DOCTYPE html>
<html lang=zh>
<head>
    <meta charset="utf-8">
    
    <title>Java NIO 系列文章之 浅析Reactor模式 | 风居者的街道</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description" content="前言最近研究 Java NIO 的时候，常常看到一种 设计模式——Reactor模式，以前没接触过这个模式在Netty中也有应用，那么Reactor模式是什么？为什么要使用Reactor模式？在NIO中如何实现Reactor模式？下面将揭开 Reactor的神秘面纱  下面的介绍参考了网上很多相关资料，所以可能会与网上某些资料有重复的情况  Reactor的介绍Reactor 是一种和 IO 相关">
<meta name="keywords" content="NIO,Reactor">
<meta property="og:type" content="article">
<meta property="og:title" content="Java NIO 系列文章之 浅析Reactor模式">
<meta property="og:url" content="https://pjmike.github.io/2018/09/20/Java-NIO-系列文章之-浅析Reactor模式/index.html">
<meta property="og:site_name" content="风居者的街道">
<meta property="og:description" content="前言最近研究 Java NIO 的时候，常常看到一种 设计模式——Reactor模式，以前没接触过这个模式在Netty中也有应用，那么Reactor模式是什么？为什么要使用Reactor模式？在NIO中如何实现Reactor模式？下面将揭开 Reactor的神秘面纱  下面的介绍参考了网上很多相关资料，所以可能会与网上某些资料有重复的情况  Reactor的介绍Reactor 是一种和 IO 相关">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="http://osvtz719h.bkt.clouddn.com/Reactor_Simple.png">
<meta property="og:image" content="http://osvtz719h.bkt.clouddn.com/reactor1.png">
<meta property="og:image" content="http://osvtz719h.bkt.clouddn.com/reacor1_nio.jpg">
<meta property="og:image" content="http://osvtz719h.bkt.clouddn.com/reactor2.png">
<meta property="og:image" content="http://osvtz719h.bkt.clouddn.com/reactor2_nio.png">
<meta property="og:image" content="http://osvtz719h.bkt.clouddn.com/Reactor3_nio.png">
<meta property="og:image" content="http://osvtz719h.bkt.clouddn.com/reactor3_nio.jpg">
<meta property="og:updated_time" content="2018-09-20T16:38:45.222Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Java NIO 系列文章之 浅析Reactor模式">
<meta name="twitter:description" content="前言最近研究 Java NIO 的时候，常常看到一种 设计模式——Reactor模式，以前没接触过这个模式在Netty中也有应用，那么Reactor模式是什么？为什么要使用Reactor模式？在NIO中如何实现Reactor模式？下面将揭开 Reactor的神秘面纱  下面的介绍参考了网上很多相关资料，所以可能会与网上某些资料有重复的情况  Reactor的介绍Reactor 是一种和 IO 相关">
<meta name="twitter:image" content="http://osvtz719h.bkt.clouddn.com/Reactor_Simple.png">
    

    
        <link rel="alternate" href="#" title="风居者的街道" type="application/atom+xml" />
    

    
        <link rel="icon" href="/css/images/favicon.ico" />
    

    <link rel="stylesheet" href="/libs/font-awesome5/css/fontawesome.min.css">
    <link rel="stylesheet" href="/libs/font-awesome5/css/fa-brands.min.css">
    <link rel="stylesheet" href="/libs/font-awesome5/css/fa-solid.min.css">
    <link rel="stylesheet" href="/libs/open-sans/styles.css">
    <link rel="stylesheet" href="/libs/source-code-pro/styles.css">

    <link rel="stylesheet" href="/css/style.css">

    <script src="/libs/jquery/2.1.3/jquery.min.js"></script>
    
    
        <link rel="stylesheet" href="/libs/lightgallery/css/lightgallery.min.css">
    
    
        <link rel="stylesheet" href="/libs/justified-gallery/justifiedGallery.min.css">
    
    
    
    


    <script src="https://cdn1.lncld.net/static/js/av-min-1.2.1.js"></script>
    <script>AV.initialize("4vB7T0TRY1mzQXMqBlJ2Hfe7-gzGzoHsz", "kOo7IkBdpIwhCSDShE4OgS1e");</script>
</head>

<body>
    <div id="container">
        <header id="header">
    <div id="header-main" class="header-inner">
        <div class="outer">
            <a href="/" id="logo">
                <i class="logo"></i>
                <span class="site-title">风居者的街道</span>
            </a>
            <nav id="main-nav">
                
                    <a class="main-nav-link" href="/.">Home</a>
                
                    <a class="main-nav-link" href="/archives">Archives</a>
                
                    <a class="main-nav-link" href="/about">About</a>
                
            </nav>
            
                
                <nav id="sub-nav">
                    <div class="profile" id="profile-nav">
                        <a id="profile-anchor" href="javascript:;">
                            <img class="avatar" src="/css/images/pjmike.jpg" />
                            <i class="fas fa-caret-down"></i>
                        </a>
                    </div>
                </nav>
            
            <div id="search-form-wrap">

    <form class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="Search" />
        <button type="submit" class="search-form-submit"></button>
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="Type something..." />
            <span class="ins-close ins-selectable"><i class="fas fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: 'Posts',
            PAGES: 'Pages',
            CATEGORIES: 'Categories',
            TAGS: 'Tags',
            UNTITLED: '(Untitled)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
<script src="/js/insight.js"></script>

</div>
        </div>
    </div>
    <div id="main-nav-mobile" class="header-sub header-inner">
        <table class="menu outer">
            <tr>
                
                    <td><a class="main-nav-link" href="/.">Home</a></td>
                
                    <td><a class="main-nav-link" href="/archives">Archives</a></td>
                
                    <td><a class="main-nav-link" href="/about">About</a></td>
                
                <td>
                    
    <div class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="Search" />
    </div>

                </td>
            </tr>
        </table>
    </div>
</header>

        <div class="outer">
            
                

<aside id="profile" class="profile-fixed">
    <div class="inner profile-inner">
        <div class="base-info profile-block">
            <img id="avatar" src="/css/images/pjmike.jpg" />
            <h2 id="name">pjmike</h2>
            <h3 id="title">努力做一个笔耕者</h3>
            <span id="location"><i class="fas fa-map-marker-alt" style="padding-right: 5px"></i>西安, 中国</span>
            <a id="follow" target="_blank" href="https://github.com/pjmike/">FOLLOW</a>
        </div>
        <div class="article-info profile-block">
            <div class="article-info-block">
                44
                <span>posts</span>
            </div>
            <div class="article-info-block">
                25
                <span>tags</span>
            </div>
        </div>
        
        <div class="profile-block social-links">
            <table>
                <tr>
                    
                    
                    <td>
                        <a href="http://github.com/pjmike/" target="_blank" title="github" class=tooltip>
                            <i class="fab fa-github"></i>
                        </a>
                    </td>
                    
                    <td>
                        <a href="#" target="_blank" title="twitter" class=tooltip>
                            <i class="fab fa-twitter"></i>
                        </a>
                    </td>
                    
                    <td>
                        <a href="#" target="_blank" title="facebook" class=tooltip>
                            <i class="fab fa-facebook"></i>
                        </a>
                    </td>
                    
                    <td>
                        <a href="mailto:pjmike_pj@163.com" target="_blank" title="email" class=tooltip>
                            <i class="fab fa-email"></i>
                        </a>
                    </td>
                    
                    <td>
                        <a href="#" target="_blank" title="rss" class=tooltip>
                            <i class="fab fa-rss"></i>
                        </a>
                    </td>
                    
                </tr>
            </table>
        </div>
        
    </div>
</aside>

            
            <section id="main"><article id="post-Java-NIO-系列文章之-浅析Reactor模式" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
    
        <h1 class="article-title" itemprop="name">
            Java NIO 系列文章之 浅析Reactor模式
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fas fa-calendar-alt"></i>
        <a href="/2018/09/20/Java-NIO-系列文章之-浅析Reactor模式/">
            <time datetime="2018-09-20T11:32:17.000Z" itemprop="datePublished">2018-09-20</time>
        </a>
    </div>


                        
    <div class="article-category">
    	<i class="fas fa-folder"></i>
        <a class="article-category-link" href="/categories/NIO/">NIO</a>
    </div>

                        
    <div class="article-tag">
        <i class="fas fa-tag"></i>
        <a class="tag-link" href="/tags/NIO/">NIO</a>, <a class="tag-link" href="/tags/Reactor/">Reactor</a>
    </div>

                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            
                <div id="toc" class="toc-article">
                <strong class="toc-title">Catalogue</strong>
                    <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#前言"><span class="toc-number">1.</span> <span class="toc-text">前言</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Reactor的介绍"><span class="toc-number">2.</span> <span class="toc-text">Reactor的介绍</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#模式比较"><span class="toc-number">2.1.</span> <span class="toc-text">模式比较</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Reactor模式的三种实现"><span class="toc-number">3.</span> <span class="toc-text">Reactor模式的三种实现</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#单Reactor单线程"><span class="toc-number">3.1.</span> <span class="toc-text">单Reactor单线程</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#单Reactor单线程在NIO中的实现"><span class="toc-number">3.1.1.</span> <span class="toc-text">单Reactor单线程在NIO中的实现</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#单Reactor多线程"><span class="toc-number">3.2.</span> <span class="toc-text">单Reactor多线程</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#单Reactor多线程在-Java-NIO中的实现"><span class="toc-number">3.2.1.</span> <span class="toc-text">单Reactor多线程在 Java NIO中的实现</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#多Reactor多进程-线程"><span class="toc-number">3.3.</span> <span class="toc-text">多Reactor多进程/线程</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#多Reactor多线程在-Java-NIO中的体现"><span class="toc-number">3.3.1.</span> <span class="toc-text">多Reactor多线程在 Java NIO中的体现</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#小结"><span class="toc-number">4.</span> <span class="toc-text">小结</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#参考资料-amp-鸣谢"><span class="toc-number">5.</span> <span class="toc-text">参考资料 &amp; 鸣谢</span></a></li></ol>
                </div>
            
            <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>最近研究 Java NIO 的时候，常常看到一种 设计模式——Reactor模式，以前没接触过这个模式在Netty中也有应用，那么Reactor模式是什么？为什么要使用Reactor模式？在NIO中如何实现Reactor模式？下面将揭开 Reactor的神秘面纱</p>
<blockquote>
<p>下面的介绍参考了网上很多相关资料，所以可能会与网上某些资料有重复的情况</p>
</blockquote>
<h2 id="Reactor的介绍"><a href="#Reactor的介绍" class="headerlink" title="Reactor的介绍"></a>Reactor的介绍</h2><p>Reactor 是一种和 IO 相关的设计模式，Java中的NIO中天生就对 Reactor模式提供了很好的支持，比较著名的就是 <a href="https://baike.baidu.com/item/Doug%20Lea/6319404" target="_blank" rel="noopener">Doung Lea</a> 大神在 <a href="http://gee.cs.oswego.edu/dl/cpjslides/nio.pdf" target="_blank" rel="noopener">《Scalable IO in Java》</a>演示如何使用 NIO 实现Reactor模式</p>
<a id="more"></a>
<p>在维基百科上对 Reactor模式定义如下:</p>
<blockquote>
<p>The reactor design pattern is an <strong>event handling pattern</strong> for handling service requests <strong>delivered concurrently to a service handler</strong> by one or more inputs. The service handler then <strong>demultiplexes</strong> the incoming requests and dispatches them synchronously to the associated request handlers</p>
</blockquote>
<p>从上面的描述我们可以得到几个关键点：</p>
<ul>
<li>一种事件驱动模型</li>
<li>处理多个输入</li>
<li>采用多路复用将事件分发给相应的Handler处理</li>
</ul>
<p><img src="http://osvtz719h.bkt.clouddn.com/Reactor_Simple.png" alt="Reactor"></p>
<p>在<a href="https://www.jianshu.com/p/38b56531565d" target="_blank" rel="noopener">netty学习系列二：NIO Reactor模型 &amp; Netty线程模型</a>这篇文章谈到，Reactor实际上采用了<strong>分而治之</strong>和<strong>事件驱动</strong>的思想：</p>
<blockquote>
<p><strong>分而治之</strong>： 一个连接里完整的网络处理过程一般分为 accept，read，decode，process，encode，send这几步。而Reactor模式将每个步骤映射为 一个Task，服务端线程执行的最小逻辑单元不再是一个完整的网络请求，而是 Task，且采用非阻塞方式执行。</p>
</blockquote>
<blockquote>
<p><strong>事件驱动</strong>： 每个Task 对应特定的网络事件，当Task 准备就绪时，Reactor 收到对应的网络事件通知，并将Task 分发给绑定了对应网络事件的 Handler 执行。</p>
</blockquote>
<p>总结以上几个特点，再次说明下 <strong>Reactor模式就是 指一个或多个事件输入同时传递给服务处理器(Reactor)，服务处理器负责监听各事件的状态，当任意一个事件准备就绪时，服务处理器收到该事件通知，并将事件发送给绑定了该对应网络事件的事件处理器(Handler)执行</strong></p>
<p><strong>Reactor模式也叫做Dispatcher模式</strong>，即 I/O多路复用统一监听事件，收到事件后再分发(Dispatch)给相应的处理线程。</p>
<h3 id="模式比较"><a href="#模式比较" class="headerlink" title="模式比较"></a>模式比较</h3><p>谈到 Reactor模式就会让我想起观察者模式，它俩看起来非常相似的，但是观察者模式主要用于<strong>一对多</strong>的情况，它定义了一个一对多的依赖关系，让多个观察者对象监听一个主题对象，当被观察者状态改变时，需要通知相应的观察者，使这些观察者能够自动更新。所以<strong>实际上它们还是有不同的，观察者模式与单个事件源关联，而Reactor模式与多个事件源关联</strong>。</p>
<h2 id="Reactor模式的三种实现"><a href="#Reactor模式的三种实现" class="headerlink" title="Reactor模式的三种实现"></a>Reactor模式的三种实现</h2><blockquote>
<p>以下的说明参考了Alibaba资深技术专家李运华的极客时间专栏<a href="https://time.geekbang.org/column/intro/81?code=OK4eM0TBPTKGPRCzcZdzIeXjPACLfY3KCzATXOSWzXE%3D" target="_blank" rel="noopener">从0开始学架构</a>中对于Reactor的介绍</p>
</blockquote>
<p>Reactor模式有三种典型的实现方案：</p>
<ul>
<li>单Reactor单线程</li>
<li>单Reactor多线程</li>
<li>主从Reactor多线程</li>
</ul>
<p>在介绍三个方案之前，先来了解下Reactor模式中的几个角色：</p>
<ul>
<li><strong>Reactor</strong>: 负责响应事件，将事件分发绑定了该事件的Handler处理</li>
<li><strong>Handler</strong>: 事件处理器，绑定了某类事件，负责执行对应事件的任务对事件进行处理</li>
<li><strong>Acceptor</strong>：Handler的一种，绑定了 connect 事件，当客户端发起connect请求时，Reactor会将accept事件分发给Acceptor处理<h3 id="单Reactor单线程"><a href="#单Reactor单线程" class="headerlink" title="单Reactor单线程"></a>单Reactor单线程</h3></li>
</ul>
<p><img src="http://osvtz719h.bkt.clouddn.com/reactor1.png" alt="reactor1"></p>
<p>PS: 以上的select，accept,read,send是标准I/O复用模型的网络编程API,dispatch和”业务处理”是需要完成的操作。</p>
<p>方案的具体步骤如下:</p>
<ul>
<li>Reactor对象通过select监控连接事件，收到事件后通过dispatch进行分发</li>
<li>如果是连接建立的事件，则交由 Acceptor 通过accept 处理连接请求，然后创建一个 Handler 对象处理连接完成后的后续业务处理</li>
<li>如果不是建立连接事件，则 Reactor 会分发调用连接对应的 Handler来响应</li>
<li>Handler 会完成 read -&gt; 业务处理 -&gt; send 的完整业务流程</li>
</ul>
<p><strong>单Reactor单线程的优点</strong>：</p>
<ul>
<li>模型简单，没有多线程，进程通信，竞争的问题，全部都在一个线程中完成</li>
</ul>
<p><strong>缺点</strong>：</p>
<ul>
<li>只有一个进程，无法发挥多核 CPU的性能，只能采取部署多个系统来利用多核CPU,但这样会带来运维复杂度</li>
<li>Handler 在处理某个连接上的业务时，整个进程无法处理其他连接的事件，很容易导致性能瓶颈</li>
</ul>
<h4 id="单Reactor单线程在NIO中的实现"><a href="#单Reactor单线程在NIO中的实现" class="headerlink" title="单Reactor单线程在NIO中的实现"></a>单Reactor单线程在NIO中的实现</h4><p>下图是单Reactor单线程在 Java NIO中流程图：</p>
<p><img src="http://osvtz719h.bkt.clouddn.com/reacor1_nio.jpg" alt="reactor1_nio"></p>
<p>至于单Reactor单线程在 NIO 中的代码，详情参阅 <a href="https://baike.baidu.com/item/Doug%20Lea/6319404" target="_blank" rel="noopener">Doung Lea</a> 大神的 <a href="http://gee.cs.oswego.edu/dl/cpjslides/nio.pdf" target="_blank" rel="noopener">《Scalable IO in Java》</a></p>
<h3 id="单Reactor多线程"><a href="#单Reactor多线程" class="headerlink" title="单Reactor多线程"></a>单Reactor多线程</h3><p><img src="http://osvtz719h.bkt.clouddn.com/reactor2.png" alt="reactor2"></p>
<p>方案步骤:</p>
<ul>
<li>主线程中，Reactor对象通过select 监听连接事件，收到事件后通过 dispatch进行分发</li>
<li>如果是连接建立的事件，则由Acceptor处理，Acceptor通过 accept接受连接，并创建一个 Handler 来处理连接后续的各种事件。</li>
<li>如果不是连接建立事件，则Reactor会调用连接对应的Handler来进行相应</li>
<li>Handler 只负责响应事件，不进行业务处理，Handler 通过 read 读取到数据后，会发给 processor 进行业务处理</li>
<li>Processor 会在独立的子线程中完成真正的 业务处理，然后将响应结果发给主进程的 Handler处理，Handler 收到响应后通过 send 将响应结果返回给 client</li>
</ul>
<p><strong>优点</strong>:</p>
<ul>
<li>能够充分利用多核多 CPU的处理能力</li>
</ul>
<p><strong>缺点</strong>：</p>
<ul>
<li>多线程数据共享和访问比较复杂</li>
<li>Reactor 承担所有事件的监听和响应，只在主线程中运行，瞬间高并发时会成为性能瓶颈</li>
</ul>
<h4 id="单Reactor多线程在-Java-NIO中的实现"><a href="#单Reactor多线程在-Java-NIO中的实现" class="headerlink" title="单Reactor多线程在 Java NIO中的实现"></a>单Reactor多线程在 Java NIO中的实现</h4><p>下图是单Reactor多线程在 Java NIO实现的流程图<br><img src="http://osvtz719h.bkt.clouddn.com/reactor2_nio.png" alt="reactor2_nio"></p>
<p>说明:</p>
<ul>
<li>有专门一个Reactor线程用于监听服务器 ServerSocketChannel，接收客户端的TCP连接请求</li>
<li>网络IO的读/写操作等由一个 worker reactor线程池负责，由线程池中的NIO线程负责监听 SocketChannel事件，进行消息的读取，解码，编码和发送</li>
<li>一个 NIO 线程可以同时处理 N条链路，但是一个链路只注册在一个NIO 线程上处理，防止发生并发操作问题。</li>
</ul>
<p>至于单Reactor多线程在 NIO 中的代码，详情参阅 <a href="https://baike.baidu.com/item/Doug%20Lea/6319404" target="_blank" rel="noopener">Doung Lea</a> 大神的 <a href="http://gee.cs.oswego.edu/dl/cpjslides/nio.pdf" target="_blank" rel="noopener">《Scalable IO in Java》</a></p>
<h3 id="多Reactor多进程-线程"><a href="#多Reactor多进程-线程" class="headerlink" title="多Reactor多进程/线程"></a>多Reactor多进程/线程</h3><p>下图以多Reactor多进程为例<br><img src="http://osvtz719h.bkt.clouddn.com/Reactor3_nio.png" alt="reactor3_nio"></p>
<p>方案说明:</p>
<ul>
<li>主进程中mainReactor对象通过 select监控连接建立事件，收到事件后通过 Acceptor接收，将新的连接分配给某个子进程。</li>
<li>子进程中的 subReactor 将 mainReactor 分配的连接加入连接队列进行监听，并创建一个 Handler 用于处理连接的各种事件</li>
<li>当有新的事件发生时，subReactor 会调用里连接对应的 Handler 来响应</li>
<li>Handler完成 read -&gt; 业务处理 -&gt; send 的完整业务流程</li>
</ul>
<p><strong>特点</strong>:</p>
<ul>
<li>主进程和子进程的职责非常明确，主进程只负责接收新连接，子进程负责完成后续的业务处理</li>
<li>主进程和子进程的交互很简单，主进程只需要把新的连接传递给子进程，子进程无需返回数据</li>
<li>子进程之间是相互独立的，无需同步共享之类的处理（这里仅限于网络模型相关的 select,read,send等无须同步共享，”业务处理”还是有可能需要同步共享的）</li>
</ul>
<h4 id="多Reactor多线程在-Java-NIO中的体现"><a href="#多Reactor多线程在-Java-NIO中的体现" class="headerlink" title="多Reactor多线程在 Java NIO中的体现"></a>多Reactor多线程在 Java NIO中的体现</h4><p><img src="http://osvtz719h.bkt.clouddn.com/reactor3_nio.jpg" alt="reactor3_nio"></p>
<h2 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h2><p>上面的总结参考了很多大神的分析，算是对 <strong>Reactor模式</strong> 有个初步的认识。</p>
<h2 id="参考资料-amp-鸣谢"><a href="#参考资料-amp-鸣谢" class="headerlink" title="参考资料 &amp; 鸣谢"></a>参考资料 &amp; 鸣谢</h2><ul>
<li><a href="http://gee.cs.oswego.edu/dl/cpjslides/nio.pdf" target="_blank" rel="noopener">《Scalable IO in Java》</a></li>
<li><a href="https://www.jianshu.com/p/38b56531565d" target="_blank" rel="noopener">netty学习系列二：NIO Reactor模型 &amp; Netty线程模型</a></li>
<li><a href="https://time.geekbang.org/column/intro/81?code=OK4eM0TBPTKGPRCzcZdzIeXjPACLfY3KCzATXOSWzXE%3D" target="_blank" rel="noopener">极客时间专栏-从0开始学架构</a></li>
</ul>

        
        </div>
        <footer class="article-footer">
            <div class="share-container">



</div>

    <a data-url="https://pjmike.github.io/2018/09/20/Java-NIO-系列文章之-浅析Reactor模式/" data-id="cjmekkylu000rcgr9bb3hqy9k" class="article-share-link"><i class="fas fa-share"></i>Share</a>
<script>
    (function ($) {
        // Prevent duplicate binding
        if (typeof(__SHARE_BUTTON_BINDED__) === 'undefined' || !__SHARE_BUTTON_BINDED__) {
            __SHARE_BUTTON_BINDED__ = true;
        } else {
            return;
        }
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="fab fa-twitter article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="fab fa-facebook article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="fab fa-pinterest article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="fab fa-google article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

            
    
        <a href="https://pjmike.github.io/2018/09/20/Java-NIO-系列文章之-浅析Reactor模式/#comments" class="article-comment-link disqus-comment-count" data-disqus-url="https://pjmike.github.io/2018/09/20/Java-NIO-系列文章之-浅析Reactor模式/">Comments</a>
    

        </footer>
    </div>
    
        
<nav id="article-nav">
    
        <a href="/2018/09/21/Netty-系列文章之基本组件概览/" id="article-nav-newer" class="article-nav-link-wrap">
            <strong class="article-nav-caption">Newer</strong>
            <div class="article-nav-title">
                
                    Netty 系列文章之基本组件概览
                
            </div>
        </a>
    
    
        <a href="/2018/09/20/Netty-入门初体验/" id="article-nav-older" class="article-nav-link-wrap">
            <strong class="article-nav-caption">Older</strong>
            <div class="article-nav-title">Netty 入门初体验</div>
        </a>
    
</nav>


    
</article>


    
    
        <section id="comments">
    <div id="disqus_thread">
        <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    </div>
</section>
    

</section>
            
                
<aside id="sidebar">
   
        
    <div class="widget-wrap">
        <h3 class="widget-title">categories</h3>
        <div class="widget">
            <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Java/">Java</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/MySQL/">MySQL</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/NIO/">NIO</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Netty/">Netty</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/RabbitMQ/">RabbitMQ</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/spring/">spring</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/springboot/">springboot</a><span class="category-list-count">13</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/web/">web</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/代理/">代理</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/技术杂谈/">技术杂谈</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/数据结构/">数据结构</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/数据结构与算法/">数据结构与算法</a><span class="category-list-count">3</span></li></ul>
        </div>
    </div>

    
        
    <div class="widget-wrap">
        <h3 class="widget-title">archives</h3>
        <div class="widget">
            <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">September 2018</a><span class="archive-list-count">16</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">August 2018</a><span class="archive-list-count">22</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">July 2018</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">April 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">March 2018</a><span class="archive-list-count">3</span></li></ul>
        </div>
    </div>

    
        
    <div class="widget-wrap">
        <h3 class="widget-title">tags</h3>
        <div class="widget">
            <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/DNS/">DNS</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTTP/">HTTP</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JVM/">JVM</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java/">Java</a><span class="tag-list-count">10</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MySQL/">MySQL</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/NIO/">NIO</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/NIO-2/">NIO.2</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Netty/">Netty</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/RabbitMQ/">RabbitMQ</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Reactor/">Reactor</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Socket/">Socket</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TCP/">TCP</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jwt/">jwt</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/leetcode/">leetcode</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mybatis/">mybatis</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/redis/">redis</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/spring/">spring</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/spring-data-jpa/">spring data jpa</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/springboot/">springboot</a><span class="tag-list-count">15</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/websocket/">websocket</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/二叉搜索树/">二叉搜索树</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/代理/">代理</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/平衡二叉树/">平衡二叉树</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/排序算法/">排序算法</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/限流/">限流</a><span class="tag-list-count">1</span></li></ul>
        </div>
    </div>

    
        
    <div class="widget-wrap">
        <h3 class="widget-title">tag cloud</h3>
        <div class="widget tagcloud">
            <a href="/tags/DNS/" style="font-size: 10px;">DNS</a> <a href="/tags/HTTP/" style="font-size: 10px;">HTTP</a> <a href="/tags/JVM/" style="font-size: 16px;">JVM</a> <a href="/tags/Java/" style="font-size: 18px;">Java</a> <a href="/tags/MySQL/" style="font-size: 16px;">MySQL</a> <a href="/tags/NIO/" style="font-size: 12px;">NIO</a> <a href="/tags/NIO-2/" style="font-size: 10px;">NIO.2</a> <a href="/tags/Netty/" style="font-size: 14px;">Netty</a> <a href="/tags/RabbitMQ/" style="font-size: 10px;">RabbitMQ</a> <a href="/tags/Reactor/" style="font-size: 10px;">Reactor</a> <a href="/tags/Socket/" style="font-size: 10px;">Socket</a> <a href="/tags/TCP/" style="font-size: 10px;">TCP</a> <a href="/tags/jwt/" style="font-size: 10px;">jwt</a> <a href="/tags/leetcode/" style="font-size: 12px;">leetcode</a> <a href="/tags/mybatis/" style="font-size: 10px;">mybatis</a> <a href="/tags/redis/" style="font-size: 10px;">redis</a> <a href="/tags/spring/" style="font-size: 10px;">spring</a> <a href="/tags/spring-data-jpa/" style="font-size: 10px;">spring data jpa</a> <a href="/tags/springboot/" style="font-size: 20px;">springboot</a> <a href="/tags/websocket/" style="font-size: 10px;">websocket</a> <a href="/tags/二叉搜索树/" style="font-size: 10px;">二叉搜索树</a> <a href="/tags/代理/" style="font-size: 10px;">代理</a> <a href="/tags/平衡二叉树/" style="font-size: 10px;">平衡二叉树</a> <a href="/tags/排序算法/" style="font-size: 10px;">排序算法</a> <a href="/tags/限流/" style="font-size: 10px;">限流</a>
        </div>
    </div>

    
        
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">links</h3>
        <div class="widget">
            <ul>
                
                    <li>
                        <a href="http://hexo.io">Hexo</a>
                    </li>
                
            </ul>
        </div>
    </div>


    
    <div id="toTop" class="fas fa-angle-up"></div>
</aside>

            
        </div>
        <footer id="footer">
    <div class="outer">
        <div id="footer-info" class="inner">
            &copy; 2018 pjmike<br>
            Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>. Theme by <a href="http://github.com/ppoffice">PPOffice</a>
        </div>
    </div>
    <div calss="count-span">
		<span id="busuanzi_container_site_pv">
    本站总访问量<span id="busuanzi_value_site_pv"></span>次
	</span>
		<span id="busuanzi_container_site_uv">
  本站访客数<span id="busuanzi_value_site_uv"></span>人次
</span>
	</div>	
</footer>
<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>

        
    
    <script>
    var disqus_config = function () {
        
            this.page.url = 'https://pjmike.github.io/2018/09/20/Java-NIO-系列文章之-浅析Reactor模式/';
        
        this.page.identifier = 'Java-NIO-系列文章之-浅析Reactor模式';
    };
    (function() { 
        var d = document, s = d.createElement('script');  
        s.src = '//' + 'pjmike' + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>




    
        <script src="/libs/lightgallery/js/lightgallery.min.js"></script>
        <script src="/libs/lightgallery/js/lg-thumbnail.min.js"></script>
        <script src="/libs/lightgallery/js/lg-pager.min.js"></script>
        <script src="/libs/lightgallery/js/lg-autoplay.min.js"></script>
        <script src="/libs/lightgallery/js/lg-fullscreen.min.js"></script>
        <script src="/libs/lightgallery/js/lg-zoom.min.js"></script>
        <script src="/libs/lightgallery/js/lg-hash.min.js"></script>
        <script src="/libs/lightgallery/js/lg-share.min.js"></script>
        <script src="/libs/lightgallery/js/lg-video.min.js"></script>
    
    
        <script src="/libs/justified-gallery/jquery.justifiedGallery.min.js"></script>
    
    



<!-- Custom Scripts -->
<script src="/js/main.js"></script>

    </div>
</body>
</html>